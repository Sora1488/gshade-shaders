//
// Generated by Microsoft (R) HLSL Shader Compiler 10.1
//
//
// Buffer Definitions: 
//
// cbuffer _Globals
// {
//
//   float frametime;                   // Offset:    0 Size:     4 [unused]
//   int framecount;                    // Offset:    4 Size:     4 [unused]
//   int random;                        // Offset:    8 Size:     4 [unused]
//   bool bDebug;                       // Offset:   12 Size:     4 [unused]
//   float fPeviousDepth;               // Offset:   16 Size:     4 [unused]
//   bool bBrightnessOpacity;           // Offset:   20 Size:     4 [unused]
//   float fDepthMultiplier;            // Offset:   24 Size:     4 [unused]
//   bool bFrameAccuAuto;               // Offset:   28 Size:     4 [unused]
//   int iFrameAccu;                    // Offset:   32 Size:     4 [unused]
//   float fSkyDepth;                   // Offset:   36 Size:     4
//   float fWeaponDepth;                // Offset:   40 Size:     4 [unused]
//   int iRayPreciseHit;                // Offset:   44 Size:     4 [unused]
//   int iRayPreciseHitSteps;           // Offset:   48 Size:     4 [unused]
//   float fRayStepPrecision;           // Offset:   52 Size:     4 [unused]
//   float fRayStepMultiply;            // Offset:   56 Size:     4 [unused]
//   float fRayHitDepthThreshold;       // Offset:   60 Size:     4 [unused]
//   float fRayBounce;                  // Offset:   64 Size:     4 [unused]
//   float fFadePower;                  // Offset:   68 Size:     4 [unused]
//   float fSaturateColor;              // Offset:   72 Size:     4 [unused]
//   float fSaturateColorPower;         // Offset:   76 Size:     4 [unused]
//   float fAOMultiplier;               // Offset:   80 Size:     4
//   int iAODistance;                   // Offset:   84 Size:     4 [unused]
//   bool bNormalWeight;                // Offset:   88 Size:     4
//   int iSmoothRadius;                 // Offset:   92 Size:     4
//   int iSmoothLod;                    // Offset:   96 Size:     4
//   float fSmoothPass;                 // Offset:  100 Size:     4 [unused]
//   float fSmoothDepthThreshold;       // Offset:  104 Size:     4
//   float fSmoothNormalThreshold;      // Offset:  108 Size:     4
//   float fSourceColor;                // Offset:  112 Size:     4 [unused]
//   float fSourceDesat;                // Offset:  116 Size:     4 [unused]
//   float fLightMult;                  // Offset:  120 Size:     4 [unused]
//   float fLightOffset;                // Offset:  124 Size:     4 [unused]
//   float fMaxLight;                   // Offset:  128 Size:     4 [unused]
//   float fLightNormalize;             // Offset:  132 Size:     4 [unused]
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim      HLSL Bind  Count
// ------------------------------ ---------- ------- ----------- -------------- ------
// __s0                              sampler      NA          NA             s0      1 
// __s2                              sampler      NA          NA             s2      1 
// __V__ReShade__DepthBufferTex      texture  float4          2d             t2      1 
// __V__DHRTGI__normalTex            texture  float4          2d             t6      1 
// __V__DHRTGI__lightPassTex         texture  float4          2d            t10      1 
// __V__DHRTGI__lightPassAOTex       texture  float4          2d            t14      1 
// _Globals                          cbuffer      NA          NA            cb0      1 
//
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_POSITION              0   xyzw        0      POS   float       
// TEXCOORD                 0   xy          1     NONE   float   xy  
//
//
// Output signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_TARGET                0   xyzw        0   TARGET   float   xyzw
// SV_TARGET                1   xyzw        1   TARGET   float   xyzw
//
ps_5_0
dcl_globalFlags refactoringAllowed
dcl_constantbuffer CB0[7], immediateIndexed
dcl_sampler s0, mode_default
dcl_sampler s2, mode_default
dcl_resource_texture2d (float,float,float,float) t2
dcl_resource_texture2d (float,float,float,float) t6
dcl_resource_texture2d (float,float,float,float) t10
dcl_resource_texture2d (float,float,float,float) t14
dcl_input_ps linear v1.xy
dcl_output o0.xyzw
dcl_output o1.xyzw
dcl_temps 11
sample_l_indexable(texture2d)(float,float,float,float) r0.x, v1.xyxx, t2.xyzw, s0, l(0.000000)
mad r0.y, -r0.x, l(999.000000), l(1000.000000)
div r0.x, r0.x, r0.y
lt r0.y, cb0[2].y, r0.x
if_nz r0.y
  mov o0.xyzw, l(0,0,0,0)
  mov o1.xyzw, l(0,0,0,0)
  ret 
endif 
if_z cb0[5].w
  itof r0.y, cb0[6].x
  sample_l_indexable(texture2d)(float,float,float,float) o0.xyzw, v1.xyxx, t10.xyzw, s2, r0.y
  sample_l_indexable(texture2d)(float,float,float,float) r0.y, v1.xyxx, t14.yxzw, s2, l(0.000000)
  mov o1.xyz, r0.yyyy
  mov o1.w, l(1.000000)
  ret 
endif 
mul r0.yz, v1.xxyx, l(0.000000, 960.000000, 540.000000, 0.000000)
sample_l_indexable(texture2d)(float,float,float,float) r1.xyz, v1.xyxx, t6.xyzw, s0, l(0.000000)
add r1.xyz, r1.xyzx, l(-0.500000, -0.500000, -0.500000, 0.000000)
add r1.xyz, r1.xyzx, r1.xyzx
itof r0.w, cb0[5].w
mad_sat r2.xy, -r0.wwww, l(0.001042, 0.001852, 0.000000, 0.000000), v1.xyxx
mad_sat r2.zw, r0.wwww, l(0.000000, 0.000000, 0.001042, 0.001852), v1.xxxy
round_z r0.yz, r0.yyzy
mov r3.zw, l(0,0,0,0)
mov r1.w, cb0[5].z
mov r4.xyzw, l(0,0,0,0)
mov r5.xyz, l(0,0,0,0)
mov r6.x, r2.x
loop 
  lt r5.w, r2.z, r6.x
  breakc_nz r5.w
  mov r7.xyz, r4.xyzx
  mov r5.w, r1.w
  mov r6.z, r4.w
  mov r6.w, r5.x
  mov r7.w, r5.y
  mov r8.x, r5.z
  mov r8.y, r2.y
  loop 
    lt r8.z, r2.w, r8.y
    breakc_nz r8.z
    mov r6.y, r8.y
    sample_l_indexable(texture2d)(float,float,float,float) r8.z, r6.xyxx, t2.yzxw, s0, l(0.000000)
    mad r8.w, -r8.z, l(999.000000), l(1000.000000)
    div r8.z, r8.z, r8.w
    lt r8.w, cb0[2].y, r8.z
    if_nz r8.w
      add r8.w, r8.y, l(0.001852)
      mov r8.y, r8.w
      continue 
    endif 
    add r8.z, -r0.x, r8.z
    ge r8.z, cb0[6].z, |r8.z|
    if_nz r8.z
      sample_l_indexable(texture2d)(float,float,float,float) r9.xyz, r6.xyxx, t6.xyzw, s0, l(0.000000)
      add r9.xyz, r9.xyzx, l(-0.500000, -0.500000, -0.500000, 0.000000)
      add r10.xyz, r9.xyzx, r9.xyzx
      mad r9.xyz, r9.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000), -r1.xyzx
      add r9.xyz, |r9.xyzx|, -cb0[6].wwww
      max r9.xyz, r9.xyzx, l(0.000000, 0.000000, 0.000000, 0.000000)
      ne r9.xyz, l(0.000000, 0.000000, 0.000000, 0.000000), r9.xyzx
      or r8.z, r9.y, r9.x
      or r8.z, r9.z, r8.z
      if_z r8.z
        mul r8.zw, r6.xxxy, l(0.000000, 0.000000, 960.000000, 540.000000)
        ftoi r3.xy, r8.zwzz
        round_z r8.zw, r8.zzzw
        add r8.zw, r0.yyyz, -r8.zzzw
        dp2 r6.y, r8.zwzz, r8.zwzz
        sqrt r6.y, r6.y
        ge r6.y, r0.w, r6.y
        if_nz r6.y
          ld_indexable(texture2d)(float,float,float,float) r6.y, r3.xyzz, t14.yxzw
          max r6.y, r6.y, l(0.000000)
          log r6.y, r6.y
          mul r6.y, r6.y, cb0[5].x
          exp r6.y, r6.y
          add r7.w, r6.y, r7.w
          iadd r8.x, r8.x, l(1)
        endif 
        ld_indexable(texture2d)(float,float,float,float) r9.xyz, r3.xyww, t10.xyzw
        dp3 r3.x, r10.xyzx, r1.xyzx
        movc r3.x, r5.w, |r3.x|, l(1.000000)
        mad r7.xyz, r9.xyzx, r3.xxxx, r7.xyzx
        add r6.z, r3.x, r6.z
        iadd r6.w, r6.w, l(1)
      endif 
    endif 
    add r8.y, r8.y, l(0.001852)
  endloop 
  mov r4.xyz, r7.xyzx
  mov r4.w, r6.z
  mov r5.x, r6.w
  mov r5.y, r7.w
  mov r5.z, r8.x
  add r6.x, r6.x, l(0.001042)
endloop 
ilt r0.x, r5.x, l(1)
if_nz r0.x
  itof r0.x, cb0[6].x
  sample_l_indexable(texture2d)(float,float,float,float) r0.xyz, v1.xyxx, t10.xyzw, s2, r0.x
  mov o0.xyz, r0.xyzx
  mov o0.w, l(1.000000)
  mov o1.xyzw, l(1.000000,1.000000,1.000000,1.000000)
  ret 
else 
  itof r0.w, r5.z
  div r0.xyz, r5.yyyy, r0.wwww
endif 
div o0.xyz, r4.xyzx, r4.wwww
mov o0.w, l(1.000000)
mov o1.xyz, r0.xyzx
mov o1.w, l(1.000000)
ret 
// Approximately 116 instruction slots used
